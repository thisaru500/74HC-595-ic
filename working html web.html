<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>74HC595 8-LED Controller</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .panel h2 {
            margin-bottom: 20px;
            color: #64ffda;
            font-size: 1.5rem;
        }
        
        /* Circuit Diagram */
        .circuit-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }
        
        .circuit-svg {
            max-width: 100%;
            height: auto;
        }
        
        /* LED Display */
        .led-display {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 15px;
            margin-bottom: 25px;
            justify-items: center;
        }
        
        .led {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid #333;
            background: #444;
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        }
        
        .led.on {
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc2626);
            border-color: #dc2626;
            box-shadow: 0 0 20px #ff6b6b, inset 0 0 10px rgba(255,255,255,0.2);
            animation: glow 1s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px #ff6b6b, inset 0 0 10px rgba(255,255,255,0.2); }
            to { box-shadow: 0 0 30px #ff6b6b, 0 0 40px #ff6b6b, inset 0 0 10px rgba(255,255,255,0.2); }
        }
        
        .led-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #ccc;
            font-weight: bold;
        }
        
        /* Controls */
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(145deg, #4f46e5, #3730a3);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .btn:hover {
            background: linear-gradient(145deg, #5b52e8, #4338ca);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        /* Binary Display */
        .binary-display {
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            margin-bottom: 15px;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .binary-bit {
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 30px;
            margin: 0 2px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .binary-bit.active {
            background: #64ffda;
            color: #000;
            font-weight: bold;
        }
        
        /* Wiring Instructions */
        .wiring-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .wiring-table th,
        .wiring-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .wiring-table th {
            background: rgba(100, 255, 218, 0.2);
            color: #64ffda;
            font-weight: bold;
        }
        
        .wiring-table tr:hover {
            background: rgba(255,255,255,0.1);
        }
        
        /* Serial Monitor */
        .serial-monitor {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #0f0;
        }
        
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”Œ 74HC595 8-LED Controller</h1>
        
        <div class="main-grid">
            <div class="panel">
                <h2>Circuit Wiring Diagram</h2>
                <div class="circuit-container">
                    <svg class="circuit-svg" width="500" height="350" viewBox="0 0 500 350">
                        <!-- Arduino -->
                        <rect x="50" y="50" width="120" height="80" fill="#2563eb" stroke="#1d4ed8" stroke-width="2" rx="5"/>
                        <text x="110" y="95" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Arduino</text>
                        
                        <!-- 74HC595 -->
                        <rect x="300" y="120" width="140" height="100" fill="#059669" stroke="#047857" stroke-width="2" rx="5"/>
                        <text x="370" y="175" text-anchor="middle" fill="white" font-size="14" font-weight="bold">74HC595</text>
                        
                        <!-- Arduino Pins -->
                        <circle cx="170" cy="60" r="3" fill="#fbbf24"/>
                        <text x="180" y="65" fill="#fbbf24" font-size="10">Pin 2</text>
                        <circle cx="170" cy="80" r="3" fill="#fbbf24"/>
                        <text x="180" y="85" fill="#fbbf24" font-size="10">Pin 3</text>
                        <circle cx="170" cy="100" r="3" fill="#fbbf24"/>
                        <text x="180" y="105" fill="#fbbf24" font-size="10">Pin 4</text>
                        <circle cx="170" cy="120" r="3" fill="#dc2626"/>
                        <text x="180" y="125" fill="#dc2626" font-size="10">5V</text>
                        <circle cx="50" cy="120" r="3" fill="#374151"/>
                        <text x="25" y="125" fill="#374151" font-size="10">GND</text>
                        
                        <!-- 74HC595 Pins -->
                        <circle cx="300" cy="140" r="3" fill="#fbbf24"/>
                        <text x="280" y="145" fill="#fbbf24" font-size="9">Pin 14</text>
                        <circle cx="300" cy="160" r="3" fill="#fbbf24"/>
                        <text x="280" y="165" fill="#fbbf24" font-size="9">Pin 11</text>
                        <circle cx="300" cy="180" r="3" fill="#fbbf24"/>
                        <text x="280" y="185" fill="#fbbf24" font-size="9">Pin 12</text>
                        <circle cx="440" cy="140" r="3" fill="#dc2626"/>
                        <text x="445" y="145" fill="#dc2626" font-size="9">Pin 16</text>
                        <circle cx="440" cy="200" r="3" fill="#374151"/>
                        <text x="445" y="205" fill="#374151" font-size="9">Pin 8</text>
                        
                        <!-- Wires -->
                        <line x1="170" y1="60" x2="300" y2="140" stroke="#fbbf24" stroke-width="2"/>
                        <line x1="170" y1="80" x2="300" y2="160" stroke="#fbbf24" stroke-width="2"/>
                        <line x1="170" y1="100" x2="300" y2="180" stroke="#fbbf24" stroke-width="2"/>
                        <line x1="170" y1="120" x2="440" y2="140" stroke="#dc2626" stroke-width="2"/>
                        <line x1="50" y1="120" x2="440" y2="200" stroke="#374151" stroke-width="2"/>
                        
                        <!-- LEDs -->
                        <g id="led-circuit">
                            <circle cx="470" cy="250" r="8" fill="#ff6b6b" stroke="#dc2626" stroke-width="2"/>
                            <text x="470" y="270" text-anchor="middle" fill="white" font-size="8">LED0</text>
                            <circle cx="420" cy="250" r="8" fill="#ff6b6b" stroke="#dc2626" stroke-width="2"/>
                            <text x="420" y="270" text-anchor="middle" fill="white" font-size="8">LED1</text>
                            <circle cx="370" cy="250" r="8" fill="#ff6b6b" stroke="#dc2626" stroke-width="2"/>
                            <text x="370" y="270" text-anchor="middle" fill="white" font-size="8">LED2</text>
                            <circle cx="320" cy="250" r="8" fill="#ff6b6b" stroke="#dc2626" stroke-width="2"/>
                            <text x="320" y="270" text-anchor="middle" fill="white" font-size="8">LED3</text>
                        </g>
                        
                        <!-- Connection lines to LEDs -->
                        <line x1="440" y1="220" x2="470" y2="242" stroke="#64ffda" stroke-width="1.5"/>
                        <line x1="420" y1="220" x2="420" y2="242" stroke="#64ffda" stroke-width="1.5"/>
                        <line x1="400" y1="220" x2="370" y2="242" stroke="#64ffda" stroke-width="1.5"/>
                        <line x1="380" y1="220" x2="320" y2="242" stroke="#64ffda" stroke-width="1.5"/>
                        
                        <!-- Labels -->
                        <text x="250" y="40" fill="#64ffda" font-size="12" font-weight="bold">Data Flow</text>
                        <path d="M170,60 Q235,30 300,140" stroke="#64ffda" stroke-width="1" fill="none" stroke-dasharray="5,5"/>
                    </svg>
                </div>
                
                <table class="wiring-table">
                    <thead>
                        <tr>
                            <th>74HC595 Pin</th>
                            <th>Function</th>
                            <th>Connect To</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Pin 14 (DS)</td><td>Serial Data</td><td>Arduino Pin 2</td></tr>
                        <tr><td>Pin 11 (SHCP)</td><td>Shift Clock</td><td>Arduino Pin 3</td></tr>
                        <tr><td>Pin 12 (STCP)</td><td>Latch Clock</td><td>Arduino Pin 4</td></tr>
                        <tr><td>Pin 13 (OE)</td><td>Output Enable</td><td>GND</td></tr>
                        <tr><td>Pin 10 (SRCLR)</td><td>Master Reset</td><td>5V</td></tr>
                        <tr><td>Pin 16 (VCC)</td><td>Power</td><td>5V</td></tr>
                        <tr><td>Pin 8 (GND)</td><td>Ground</td><td>GND</td></tr>
                        <tr><td>Pins 15,1-7 (Q0-Q7)</td><td>LED Outputs</td><td>LEDs + 220Î© Resistors</td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="panel">
                <h2>LED Control Panel</h2>
                
                <div class="binary-display">
                    <div>Binary: <span id="binaryDisplay">00000000</span></div>
                    <div>Decimal: <span id="decimalDisplay">0</span></div>
                </div>
                
                <div class="led-display">
                    <div class="led" data-led="0">
                        <div class="led-label">LED0</div>
                    </div>
                    <div class="led" data-led="1">
                        <div class="led-label">LED1</div>
                    </div>
                    <div class="led" data-led="2">
                        <div class="led-label">LED2</div>
                    </div>
                    <div class="led" data-led="3">
                        <div class="led-label">LED3</div>
                    </div>
                    <div class="led" data-led="4">
                        <div class="led-label">LED4</div>
                    </div>
                    <div class="led" data-led="5">
                        <div class="led-label">LED5</div>
                    </div>
                    <div class="led" data-led="6">
                        <div class="led-label">LED6</div>
                    </div>
                    <div class="led" data-led="7">
                        <div class="led-label">LED7</div>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn" onclick="sequentialDemo()">Sequential</button>
                    <button class="btn" onclick="binaryCounterDemo()">Binary Counter</button>
                    <button class="btn" onclick="knightRiderDemo()">Knight Rider</button>
                    <button class="btn" onclick="randomDemo()">Random Pattern</button>
                    <button class="btn" onclick="blinkAllDemo()">Blink All</button>
                    <button class="btn" onclick="walkingDemo()">Walking LEDs</button>
                    <button class="btn" onclick="turnOnAllLEDs()">All ON</button>
                    <button class="btn" onclick="turnOffAllLEDs()">All OFF</button>
                </div>
            </div>
        </div>
        
        <div class="panel">
            <h2>Serial Monitor Output</h2>
            <div class="serial-monitor" id="serialMonitor"></div>
        </div>
    </div>

    <script>
        let currentPattern = 0;
        let demoRunning = false;
        
        function updateDisplay(pattern) {
            currentPattern = pattern;
            const leds = document.querySelectorAll('.led');
            const binaryDisplay = document.getElementById('binaryDisplay');
            const decimalDisplay = document.getElementById('decimalDisplay');
            
            // Update LEDs
            leds.forEach((led, index) => {
                if (pattern & (1 << index)) {
                    led.classList.add('on');
                } else {
                    led.classList.remove('on');
                }
            });
            
            // Update displays
            binaryDisplay.textContent = pattern.toString(2).padStart(8, '0');
            decimalDisplay.textContent = pattern;
            
            // Add to serial monitor
            addToSerialMonitor(`Pattern: ${pattern.toString(2).padStart(8, '0')} (${pattern})`);
        }
        
        function addToSerialMonitor(message) {
            const monitor = document.getElementById('serialMonitor');
            const timestamp = new Date().toLocaleTimeString();
            monitor.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            monitor.scrollTop = monitor.scrollHeight;
        }
        
        // Manual LED control
        document.querySelectorAll('.led').forEach(led => {
            led.addEventListener('click', () => {
                if (demoRunning) return;
                const ledIndex = parseInt(led.dataset.led);
                currentPattern ^= (1 << ledIndex);
                updateDisplay(currentPattern);
            });
        });
        
        // Demo functions
        async function sequentialDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Sequential Demo');
            
            // Turn on LEDs one by one
            for (let i = 0; i < 8; i++) {
                updateDisplay(1 << i);
                await sleep(300);
            }
            
            // Turn off LEDs one by one
            for (let i = 7; i >= 0; i--) {
                updateDisplay(1 << i);
                await sleep(300);
            }
            
            updateDisplay(0);
            demoRunning = false;
        }
        
        async function binaryCounterDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Binary Counter Demo');
            
            for (let i = 0; i < 256; i++) {
                updateDisplay(i);
                await sleep(100);
            }
            
            updateDisplay(0);
            demoRunning = false;
        }
        
        async function knightRiderDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Knight Rider Demo');
            
            for (let cycle = 0; cycle < 3; cycle++) {
                // Forward
                for (let i = 0; i < 8; i++) {
                    updateDisplay(1 << i);
                    await sleep(150);
                }
                // Backward
                for (let i = 6; i > 0; i--) {
                    updateDisplay(1 << i);
                    await sleep(150);
                }
            }
            
            updateDisplay(0);
            demoRunning = false;
        }
        
        async function randomDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Random Pattern Demo');
            
            for (let i = 0; i < 20; i++) {
                const randomPattern = Math.floor(Math.random() * 256);
                updateDisplay(randomPattern);
                await sleep(400);
            }
            
            updateDisplay(0);
            demoRunning = false;
        }
        
        async function blinkAllDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Blink All Demo');
            
            for (let i = 0; i < 10; i++) {
                updateDisplay(255);
                await sleep(200);
                updateDisplay(0);
                await sleep(200);
            }
            
            demoRunning = false;
        }
        
        async function walkingDemo() {
            if (demoRunning) return;
            demoRunning = true;
            addToSerialMonitor('Starting Walking LEDs Demo');
            
            let pattern = 0b11000000;
            
            for (let cycle = 0; cycle < 3; cycle++) {
                for (let i = 0; i < 8; i++) {
                    updateDisplay(pattern);
                    pattern = (pattern >> 1) | ((pattern & 1) << 7);
                    await sleep(200);
                }
            }
            
            updateDisplay(0);
            demoRunning = false;
        }
        
        function turnOnAllLEDs() {
            if (demoRunning) return;
            updateDisplay(255);
            addToSerialMonitor('All LEDs ON');
        }
        
        function turnOffAllLEDs() {
            if (demoRunning) return;
            updateDisplay(0);
            addToSerialMonitor('All LEDs OFF');
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Initialize
        addToSerialMonitor('74HC595 8-LED Controller Started');
        updateDisplay(0);
    </script>
</body>
</html>